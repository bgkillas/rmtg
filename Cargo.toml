[package]
name = "rmtg"
version = "0.1.0"
edition = "2024"
description = "a magic the gathering card game player"
license = "MIT OR Apache-2.0"
repository = "https://github.com/bgkillas/rmtg"
build = "build.rs"

[profile.release]
lto = true
strip = true
panic = "abort"
split-debuginfo = "packed"
incremental=true
codegen-units=1
opt-level = 3

[profile.dev]
opt-level = 3

[lib]
crate-type = ["cdylib", "rlib"]

[package.metadata.wasm-pack.profile.release]
wasm-opt = false

[features]
default=["bin", "steam", "ip"]
bin=["dep:arboard", "tokio/rt-multi-thread", "calc"]
calc=["dep:kalc-lib"]
wasm=["bevy_rand/wasm_js", "dep:wasm-bindgen", "dep:wasm-bindgen-futures", "dep:web-sys", "dep:console_error_panic_hook", "dep:js-sys"]
steam=["bevy_tangled/steam"]
ip=["bevy_tangled/tangled"]

[dependencies]
bevy={version="0.17.3", default-features = false, features = [
  "std",
  "async_executor",
  #"android-game-activity",
  #"android_shared_stdcxx",
  #"animation",
  "bevy_asset",
  #"bevy_audio",
  "bevy_color",
  "bevy_core_pipeline",
  "bevy_post_process",
  "bevy_anti_alias",
  "bevy_gilrs",
  "bevy_gizmos",
  "bevy_gltf",
  "bevy_input_focus",
  "bevy_log",
  "bevy_mesh_picking_backend",
  "bevy_pbr",
  "bevy_picking",
  "bevy_render",
  "bevy_scene",
  "bevy_image",
  "bevy_mesh",
  "bevy_camera",
  #"bevy_light",
  "bevy_shader",
  "bevy_sprite",
  "bevy_sprite_picking_backend",
  "bevy_sprite_render",
  "bevy_state",
  "bevy_text",
  "bevy_ui",
  "bevy_ui_picking_backend",
  "bevy_ui_render",
  "bevy_window",
  "bevy_winit",
  #"custom_cursor",
  #"default_font",
  #"hdr",
  "ktx2",
  "multi_threaded",
  "png",
  "reflect_auto_register",
  "smaa_luts",
  "sysinfo_plugin",
  "tonemapping_luts",
  #"vorbis",
  "webgl2",
  "x11",
  "wayland",
  "debug",
  "zstd_rust",
  #"track_location",
  #"bevy_dev_tools",
]}
enumset = "1.1.10"
enum-map = "2.7.3"
itertools="0.14.0"
arboard={version="3.6.1", features = ["wayland-data-control"], optional = true}
reqwest={version= "0.13.1", features = ["rustls"], default-features = false}
json="0.12.4"
image="0.25.9"
futures="0.3.31"
bevy_framepace = "0.20.1"
tokio={version="1.48.0",default-features = false,features=["rt","macros"]}
rand = "0.9.2"
bytes = "1.11.0"
bevy_rand = {version = "0.12.1", features = ["rand_chacha", "wyrand"] }
bevy_prng = { version = "0.12.1", features = ["rand_chacha", "wyrand"] }
wasm-bindgen = {version="0.2.106", optional = true}
wasm-bindgen-futures = {version="0.4.56", optional = true}
web-sys = { version = "0.3.83", optional = true, features = ["Clipboard", "Navigator", "Window", "HtmlImageElement", "HtmlCanvasElement", "CanvasRenderingContext2d", "Document", "ImageData"] }
js-sys = {version="0.3.83",optional = true}
console_error_panic_hook = { version = "0.1.7", optional = true }
avian3d={version="0.4.1", features = ["simd"]}
bevy_rich_text3d = "0.5.1"
bevy_tangled = {git = "https://github.com/bgkillas/bevy_tangled", default-features = false, features = ["bevy", "compress"]}
bitcode = {git="https://github.com/SoftbearStudios/bitcode", version = "0.6.7", branch = "large_c_style_enums"}
bevy_ui_text_input = "0.6.0"
#bevy_console = "0.14.1"
#rune = "0.14.1"
bevy_mod_mipmap_generator={git="https://github.com/DGriffin91/bevy_mod_mipmap_generator"}
lz4_flex = { version = "0.12.0", default-features = false }
kalc-lib = {git="https://github.com/bgkillas/kalc-lib",version = "1.5.1", optional = true}
cosmic-text = "0.14.2"
rules = {path = "rules"}
uuid = "1.19.0"

[target.'cfg(windows)'.dependencies]
winapi={version="0.3.9",features = ["wincon"]}

[lints.clippy]
too_many_arguments = "allow"
type_complexity = "allow"
