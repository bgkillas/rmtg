[package]
name = "rmtg"
version = "0.1.0"
edition = "2024"
description = "a magic the gathering card game player"
license = "MIT OR Apache-2.0"
repository = "https://github.com/bgkillas/rmtg"
build = "build.rs"

[profile.release]
lto = true
strip = true
panic = "abort"
split-debuginfo = "packed"
incremental=true
codegen-units=1
opt-level = 3

[profile.dev]
opt-level = 3

[lib]
crate-type = ["cdylib", "rlib"]

[package.metadata.wasm-pack.profile.release]
wasm-opt = false

[features]
default=["bin", "steam", "ip"]
bin=["dep:arboard", "tokio/rt-multi-thread"]
wasm=["bevy_rand/wasm_js", "dep:wasm-bindgen", "dep:wasm-bindgen-futures", "dep:web-sys", "dep:console_error_panic_hook"]
steam=["net/steam"]
ip=["net/tangled"]

[dependencies]
bevy="0.17.2"
arboard={version="3.6.1", features = ["wayland-data-control"], optional = true}
reqwest={version="0.12.23", features = ["rustls-tls"], default-features = false}
json="0.12.4"
image="0.25.8"
futures="0.3.31"
bevy_framepace = {git = "https://github.com/TotalKrill/bevy_framepace"}
tokio={version="1.47.1",default-features = false,features=["rt","macros"]}
rand = "0.9.2"
bytes = "1.10.1"
bevy_rand = {version = "0.12.0", features = ["rand_chacha", "wyrand"] }
bevy_prng = { version = "0.12.0", features = ["rand_chacha", "wyrand"] }
wasm-bindgen = {version="0.2.104", optional = true}
wasm-bindgen-futures = {version="0.4.54", optional = true}
web-sys = { version = "0.3.81", optional = true, features = ["Clipboard", "Navigator", "Window"] }
console_error_panic_hook = { version = "0.1.7", optional = true }
avian3d={git="https://github.com/Jondolf/avian.git", features = ["simd"]}
bevy_rich_text3d = {git="https://github.com/bgkillas/bevy_rich_text3d.git"}
net = {path = "net", default-features = false, features = ["bevy"]}
bitcode = {git="https://github.com/SoftbearStudios/bitcode.git", version = "0.6.7", branch = "large_c_style_enums"}
bevy_ui_text_input = {git="https://github.com/ickshonpe/bevy_ui_text_input"}
#bevy_console = "0.14.1"
#rune = "0.14.1"

[lints.clippy]
too_many_arguments = "allow"
type_complexity = "allow"
